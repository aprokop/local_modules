#%Module
proc ModulesHelp { } { }

conflict       nvcc-wrapper

prepend-path   PATH     $env(HOME)/local/opt/nvcc-wrapper/gnu/bin

setenv          CC              nvcc_wrapper
setenv          CXX             nvcc_wrapper
setenv          OMPI_C          nvcc_wrapper
setenv          OMPI_CXX        nvcc_wrapper
setenv          OMPI_CXXFLAGS   "-ccbin g++"

# Force a fence after each kernel launch (for UVM which is required by Tpetra)
setenv  CUDA_LAUNCH_BLOCKING    1
